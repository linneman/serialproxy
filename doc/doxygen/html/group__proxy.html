<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>serialproxy: The Proxy Communication Handler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">serialproxy
   &#160;<span id="projectnumber">0.0.1-g9ef4233</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">The Proxy Communication Handler<div class="ingroups"><a class="el" href="group__serialproxy.html">Proxy Daemon for Serial Line Communication</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt__proxy.html">t_proxy</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab6f742e89c692a778aaa9a69e99bef4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structt__proxy.html">t_proxy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__proxy.html#gab6f742e89c692a778aaa9a69e99bef4f">proxy_init</a> (struct s_serialproxy *p_serialproxy, const char *phy_filename, const char *pty_symlink_name)</td></tr>
<tr class="separator:gab6f742e89c692a778aaa9a69e99bef4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a4f8102ebcc50b94d3ba8b20b17f7df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__proxy.html#ga2a4f8102ebcc50b94d3ba8b20b17f7df">proxy_kill</a> (<a class="el" href="structt__proxy.html">t_proxy</a> *p)</td></tr>
<tr class="separator:ga2a4f8102ebcc50b94d3ba8b20b17f7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The serialproxy daemon instantiates a background thread which executes the function 'proxy_handler' implemented in source file proxy.c. This handler reads data from two device files, one refers to the physical UART, the other one refers to the master side of the pseudo terminal session which is created in the initialization phase in the same module. The read data is written to the other's descriptor after transferring lower to upper characters to illustrates that the underlying data stream can be in fact altered. Furthermore a symbolic link to the slave side of the pseudo terminal is created to be in example accessed by an existing application instead of directly writing and reading from the UART.</p>
<p>Please note that the current implementation of serialproxy does not setup the serial port parameters. You need to do this externally in example by invoking the system command stty. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab6f742e89c692a778aaa9a69e99bef4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6f742e89c692a778aaa9a69e99bef4f">&#9670;&nbsp;</a></span>proxy_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structt__proxy.html">t_proxy</a>* proxy_init </td>
          <td>(</td>
          <td class="paramtype">struct s_serialproxy *&#160;</td>
          <td class="paramname"><em>p_serialproxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>phy_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pty_symlink_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>initialize and start background proxy service</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_serialproxy</td><td>pointer to serialproxy main state structure </td></tr>
    <tr><td class="paramname">phy_filename</td><td>physical (real) character device (proxy source) </td></tr>
    <tr><td class="paramname">phy_simlink_name</td><td>symlink name to pseudo terminal (proxy dest) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>p instance data </dd></dl>

</div>
</div>
<a id="ga2a4f8102ebcc50b94d3ba8b20b17f7df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a4f8102ebcc50b94d3ba8b20b17f7df">&#9670;&nbsp;</a></span>proxy_kill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proxy_kill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt__proxy.html">t_proxy</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stop background proxy service and release its data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>instance data to be released </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 12 2017 18:21:25 for serialproxy by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
